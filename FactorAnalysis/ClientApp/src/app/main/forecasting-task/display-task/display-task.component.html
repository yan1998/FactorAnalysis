<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a [routerLink]="['/home']">На главную</a></li>
        <li class="breadcrumb-item"><a [routerLink]="['/forecasting-task/list']">Задачи прогнозирования</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{ task.name }}</li>
    </ol>
</nav>

<button mat-stroked-button [disabled]="isCsvDownloading" (click)="exportCsv()">
    <span>Эскпортировать в CSV</span>
    <mat-spinner class="btnSpinners" [diameter]="20" *ngIf="isCsvDownloading"></mat-spinner> 
</button>

<button id="uploadXmlBtn" mat-stroked-button [disabled]="isCsvUploading" (click)="csvFileInput.click()">
    <span>Upload CSV</span>
    <mat-spinner class="btnSpinners" [diameter]="20" *ngIf="isCsvUploading"></mat-spinner>
</button>
<input id="csvFile" [style.display]="'none'" name="csvFile" type="file" accept=".csv" #csvFileInput
    (change)="uploadCsvFile(csvFileInput.files)">

<button mat-stroked-button [disabled]="isDataAdding" (click)="addForecastingTaskData()">
    <span>Добавить данные</span>
    <mat-spinner class="btnSpinners" [diameter]="20" *ngIf="isDataAdding"></mat-spinner> 
</button>

<button  mat-stroked-button [disabled]="isModelCreating"(click)="createPredictionModel()">
    <span>Обучить модель</span>
    <mat-spinner class="btnSpinners" [diameter]="20" *ngIf="isModelCreating"></mat-spinner> 
</button>

<button  mat-stroked-button [disabled]="isValuePredicating" (click)="predictValue()">
    <span>Спрогнозировать значение</span>
    <mat-spinner class="btnSpinners" [diameter]="20" *ngIf="isValuePredicating"></mat-spinner>
</button>

<div class="example-container mat-elevation-z8">
    <div class="example-loading-shade" *ngIf="isLoadingResults">
        <mat-spinner></mat-spinner>
    </div>
    <div class="example-table-container">
        <table mat-table [dataSource]="data" class="example-table">
            <ng-container *ngFor="let column of task.fieldsDeclaration" matColumnDef="{{column.name}}">
                <th mat-header-cell *matHeaderCellDef>{{column.name}}</th>
                <td mat-cell *matCellDef="let row">{{row[column.name]}}</td>
            </ng-container>

            <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let row">
                    <button  mat-stroked-button (click)="removeRecord(row.id)">Удалить</button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [length]="resultsLength" [pageSizeOptions]="[10, 50, 100, 200, 500]"></mat-paginator>
    </div>
</div>